---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import { Image } from "astro:assets";


const projects = (await getCollection("projects")).sort(
  function (first, second) {
    return second.data.publishedAt.getTime() - first.data.publishedAt.getTime();
  }
).slice(0,3);

const notes = (await getCollection("notes")).sort(
  function (first, second) {
	return second.data.publishedAt.getTime() - first.data.publishedAt.getTime();
  }
).slice(0,3);
---

<Layout title="Thomas Mol">
  <main class="max-w-3xl px-4 mx-auto md:py-10 py-2">
    <section class="py-12">
		<Image src="/images/thomasacc.png" alt="Thomas Mol" width={128} height={128} class="w-20 h-20" />
      <h1 class="text-2xl mt-4">Hi, I'm Thomas ü´°</h1>
      <p class="mt-4 text-neutral-700">
        I'm a programmer and I build web apps.
      </p>
      <div class="mt-4 flex items-center gap-2 text-sm text-neutral-600">
        <a
          href="https://x.com/thomas_mol"
          class="text-neutral-600 hover:text-neutral-950"
          >ùïè
        </a>
        /
        <a
          href="https://x.com/thomas_mol"
          class="text-neutral-600 hover:text-neutral-950"
          >Github
        </a>
        /
        <a
          href="https://x.com/thomas_mol"
          class="text-neutral-600 hover:text-neutral-950"
          >LinkedIn
        </a>
      </div>
    </section>
    <section class="py-12">
      <h2 class="text-lg font-semibold">Latest projects</h2>
      <div class="mt-4">
        {
          projects.map((project) => (
            <Card
              title={project.data.title}
              description={project.data.description}
              publishedAt={project.data.publishedAt}
              slug={project.slug}
            />
          ))
        }
      </div>
    </section>
    <section class="py-12">
      <h2 class="text-lg font-semibold">Notes</h2>
	  <div class="mt-4">
        {
          notes.map((project) => (
            <Card
              title={project.data.title}
              description={project.data.description}
              publishedAt={project.data.publishedAt}
              slug={project.slug}
            />
          ))
        }
      </div>
    </section>
    <section class="py-12">
      <h2 class="text-lg font-semibold">Books</h2>
    </section>
    <section class="py-12">
      <h2 class="text-lg font-semibold">Get in touch</h2>
    </section>
  </main>
</Layout>
